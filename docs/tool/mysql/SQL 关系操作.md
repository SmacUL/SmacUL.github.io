# SQL 关系操作

 

## 查询

查询包含的关系操作包括以下八种, 前 5 种是基本操作;

首先给出两个表

 

### 选择 (限制)

通过给定条件, 在某个关系表中寻找特定行

select 的 where 

这是一个从行的角度进行运算的方式; 

 

| R    |      |      |
| ---- | ---- | ---- |
| A    | B    | C    |
| a1   | b1   | c1   |
| a1   | b2   | c2   |
| a2   | b2   | c1   |

 

R 表对 C 的值进行限制, 必须为 c1

| A    | B    | C    |
| ---- | ---- | ---- |
| a1   | b1   | c1   |
| a2   | b2   | c1   |

 

 

### 投影

包含操作: 去除指定列中重复的内容 

这是一个从列的角度进行运算的方式, 

 

::: tip  这不是 二元操作, 吧 R 和 S 放在一起, 仅仅是为了方便一些

 

| R    |      |      | S    |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- |
| A    | B    | C    | A    | B    | C    |
| a1   | b1   | c1   | a1   | b2   | c2   |
| a1   | b2   | c2   | a1   | b3   | c2   |
| a2   | b2   | c1   | a2   | b2   | c1   |

 

- R 对 C

| C    |
| ---- |
| c1   |
| c2   |

 

- S 对 AC

| A    | C    |
| ---- | ---- |
| a1   | c2   |
| a1   | c2   |
| a2   | c1   |

 

 

### 并 (二目运算)

合并相同项目, 列出所有不同项目

 

| R    |      |      | S    |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- |
| A    | B    | C    | A    | B    | C    |
| a1   | b1   | c1   | a1   | b2   | c2   |
| a1   | b2   | c2   | a1   | b3   | c2   |
| a2   | b2   | c1   | a2   | b2   | c1   |

 

结果

| A    | B    | C    |
| ---- | ---- | ---- |
| a1   | b1   | c1   |
| a1   | b2   | c2   |
| a2   | b2   | c1   |
| a1   | b3   | c2   |

 

 

### 差 (二目运算)

分主次双方, 

主方除去 主方与次方一致的条目, 

展示剩余条目; 

| R    |      |      | S    |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- |
| A    | B    | C    | A    | B    | C    |
| a1   | b1   | c1   | a1   | b2   | c2   |
| a1   | b2   | c2   | a1   | b3   | c2   |
| a2   | b2   | c1   | a2   | b2   | c1   |

 

- R - S

| A    | B    | C    |
| ---- | ---- | ---- |
| a1   | b1   | c1   |

 

- S - R

| A    | B    | C    |
| ---- | ---- | ---- |
| a1   | b3   | c2   |

 

 

### 笛卡尔积 (二目运算)

此处的笛卡尔积以元组为单位

 

| R    |      |      | S    |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- |
| A    | B    | C    | A    | B    | C    |
| a1   | b1   | c1   | a1   | b2   | c2   |
| a1   | b2   | c2   | a1   | b3   | c2   |
| a2   | b2   | c1   | a2   | b2   | c1   |

 

R * S

| R A  | R B  | R C  | S A  | S B  | S C  |
| ---- | ---- | ---- | ---- | ---- | ---- |
| a1   | b1   | c1   | a1   | b2   | c2   |
| a1   | b1   | c1   | a1   | b3   | c2   |
| a1   | b1   | c1   | a2   | b2   | c1   |
| a1   | b2   | c2   | a1   | b2   | c2   |
| a1   | b2   | c2   | a1   | b3   | c2   |
| a1   | b2   | c2   | a2   | b2   | c1   |
| a2   | b2   | c1   | a1   | b2   | c2   |
| a2   | b2   | c1   | a1   | b3   | c2   |
| a2   | b2   | c1   | a2   | b2   | c1   |

 

### 连接

从笛卡尔积中选择属性间满足一定条件的元组; 

连接查询涉及两个以上的表; 

 

这是一种非常牛逼的操作

 

连接的类型多种多样: 

- 非等值连接 [可以不考虑]

 

- 等值连接 [可以不考虑]

 

- 自然连接(特殊的等值连接) [可以不考虑]

 

- 外连接 [可以不考虑]

 

- 左外连接

左外连接的结果数量和 左表 一致

 

```
select art_id, art_abstract, cus_name
from Articles left join Customers 
on Articles.art_customer_id = Customers.cus_id
where art_id = 1;
 
```

- 右外连接 [可以不考虑]

右外连接的结果数量和 右表 一致

 

### 除

Mark

 

### 交 (二目运算)

合并所有相同项目, 

展示所有相同项目; 

 

| R    |      |      | S    |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- |
| A    | B    | C    | A    | B    | C    |
| a1   | b1   | c1   | a1   | b2   | c2   |
| a1   | b2   | c2   | a1   | b3   | c2   |
| a2   | b2   | c1   | a2   | b2   | c1   |

结果

| A    | B    | C    |
| ---- | ---- | ---- |
| a1   | b2   | c2   |
| a2   | b2   | c1   |

 

###  

## 插入

## 删除

## 修改

 